{
    "meta": {
        "id": "62b34d0c5be4191ce3b66867",
        "name": "aantal-meldingen-per-gemeente",
        "description": "",
        "owner": "Data Science Team (DST)",
        "visualization": "geo3d"
    },
    "prompt_context": {
        "prefixes": [
            {
                "prefixLabel": "graph",
                "iri": "https://kadaster.triplydb.com/agentschap-telecom/graafschades-2019/graphs/",
                "scope": "local"
            }
        ],
        "dataset_name": "Graafschades 2019"
    },
    "input_natural_language": "",
    "output_sparql": "prefix cbs: <https://data.labs.kadaster.nl/cbs/wbk/vocab/>\nprefix def: <https://data.labs.kadaster.nl/agentschap-telecom/graafschades/def/>\nprefix geo: <http://www.opengis.net/ont/geosparql#>\nprefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nprefix xsd: <http://www.w3.org/2001/XMLSchema#>\n\nselect\n  ?shape\n  (concat('jet,',str(?normalized)) as ?shapeColor)\n  (?normalized * 10000 as ?shapeHeight)\n  ?shapeLabel\n{\n  {\n    {\n      select (max(?n) as ?max) (min(?n) as ?min) {\n        {\n          select ?gemeente (count(*) as ?n) {\n            [] def:gemeenteInterpretatieCBS ?gemeente.\n          }\n          group by ?gemeente\n        }\n      }\n    }\n    {\n      select ?gemeente (count(*) as ?n) {\n        [] def:gemeenteInterpretatieCBS ?gemeente.\n      }\n      group by ?gemeente\n    }\n    ?gemeente\n      geo:hasGeometry/geo:hasSimpleGeometry/geo:asWKT ?shape;\n      rdfs:label ?gemeenteNaam.\n    bind(xsd:double(?n - ?min) / xsd:double(?max - ?min) as ?normalized)\n    bind(concat('Er zijn ',replace(str(?n),'[0-9](?=(?:[0-9]{3})+(?![0-9]))','$0.'),' schademeldingen in ',str(?gemeenteNaam),' in 2019.') as ?shapeLabel)\n  } union {\n    ?gemeente\n      a cbs:Gemeente;\n      geo:hasGeometry/geo:hasSimpleGeometry/geo:asWKT ?shape;\n      rdfs:label ?gemeenteNaam.\n    filter not exists { [] def:gemeenteInterpretatieCBS ?gemeente. }\n    bind(concat('Er zijn 0 schademeldingen in ',str(?gemeenteNaam),' in 2019.') as ?shapeLabel)\n  }\n}\n",
    "execution_result_sample": []
}